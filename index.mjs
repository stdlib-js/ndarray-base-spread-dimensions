// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-row-major-string@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-sorted-ascending@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-to-unique-normalized-indices@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-dtype@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-shape@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-strides@v0.2.2-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-offset@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-order@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-data-buffer@v0.2.2-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-ones@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-zeros@v0.2.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";function j(j,u,g,p){var f,v,b,c,y,x,w,E,V,M,q;if(y=i(u,!1),x=t(u,!1),c=o(u),b=e(c),y.length>j)throw new RangeError(h("invalid argument. First argument must be greater than or equal to the number of dimensions in the input ndarray. Number of dimensions: %d. Value: `%d`.",y.length,j));if(null===(w=n(g,j-1)))throw new RangeError(h("invalid argument. Specified dimension index is out-of-bounds. Must be on the interval: [-%u, %u]. Value: `[%s]`.",j,j-1,g.join(", ")));if(w.length!==g.length)throw new Error(h("invalid argument. Must provide unique dimension indices. Value: `[%s]`.",g.join(", ")));if(w.length!==y.length)throw new RangeError(h("invalid argument. Must provide the same number of dimension indices as the number of dimensions in the input ndarray. Number of dimensions: %d. Value: `[%s]`.",y.length,g.join(", ")));if(w.length&&!s(w))throw new Error(h("invalid argument. Must provide dimension indices which resolve to nonnegative indices arranged in ascending order. Value: `[%s]`.",g.join(", ")));if(0===y.length)v=m(j),f=l(j);else for(f=[],v=[],q=0,M=0;M<j;M++)M===w[q]?(E=y[q],V=x[q],q+=1):q===y.length?(E=1,V=x[q-1],b||(V*=y[q-1])):(E=1,V=x[q],b&&(V*=y[q])),v.push(E),f.push(V);return new u.constructor(r(u),a(u),v,f,d(u),c,{readonly:!p})}export{j as default};
//# sourceMappingURL=index.mjs.map
