// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-row-major-string@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-read-only@v0.2.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-sorted-ascending@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-to-unique-normalized-indices@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-dtype@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-shape@v0.2.2-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-strides@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-offset@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-order@v0.2.2-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-data-buffer@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-ones@v0.2.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-zeros@v0.2.2-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";function u(u,g,p){var v,b,f,c,y,x,w,E,V,M,q;if(y=i(g,!1),x=d(g,!1),c=a(g),f=e(c),y.length>u)throw new RangeError(j("invalid argument. First argument must be greater than or equal to the number of dimensions in the input ndarray. Number of dimensions: %d. Value: `%d`.",y.length,u));if(null===(w=r(p,u-1)))throw new RangeError(j("invalid argument. Specified dimension index is out-of-bounds. Must be on the interval: [-%u, %u]. Value: `[%s]`.",u,u-1,p.join(", ")));if(w.length!==p.length)throw new Error(j("invalid argument. Must provide unique dimension indices. Value: `[%s]`.",p.join(", ")));if(w.length!==y.length)throw new RangeError(j("invalid argument. Must provide the same number of dimension indices as the number of dimensions in the input ndarray. Number of dimensions: %d. Value: `[%s]`.",y.length,p.join(", ")));if(w.length&&!n(w))throw new Error(j("invalid argument. Must provide dimension indices which resolve to nonnegative indices arranged in ascending order. Value: `[%s]`.",p.join(", ")));if(0===y.length)b=l(u),v=h(u);else for(v=[],b=[],q=0,M=0;M<u;M++)M===w[q]?(E=y[q],V=x[q],q+=1):q===y.length?(E=1,V=x[q-1],f||(V*=y[q-1])):(E=1,V=x[q],f&&(V*=y[q])),b.push(E),v.push(V);return s(g)?new g.constructor(t(g),m(g),b,v,o(g),c,{readonly:!0}):new g.constructor(t(g),m(g),b,v,o(g),c)}export{u as default};
//# sourceMappingURL=index.mjs.map
